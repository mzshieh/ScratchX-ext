"use strict";!function e(t,o,n){function s(r,a){if(!o[r]){if(!t[r]){var i="function"==typeof require&&require;if(!a&&i)return i(r,!0);if(c)return c(r,!0);throw new Error("Cannot find module '"+r+"'")}var u=o[r]={exports:{}};t[r][0].call(u.exports,function(e){var o=t[r][1][e];return s(o?o:e)},u,u.exports,e,t,o,n)}return o[r].exports}for(var c="function"==typeof require&&require,r=0;r<n.length;r++)s(n[r]);return s}({1:[function(e,t,o){function n(e,t,o,n){$.ajax({type:"POST",url:e+"/"+t,contentType:"application/json; charset=utf-8",data:JSON.stringify({profile:o}),success:function(e){console.log(e),console.log("register success")},error:function(e,t){console.log(e),console.log(t),console.log("register failed")},complete:function(){"function"==typeof n&&n()},dataType:"text"})}function s(e,t,o){$.ajax({type:"DELETE",url:e+"/"+t,success:function(e){console.log(e),console.log("Detach success")},error:function(e,t){console.log(e),console.log(t),console.log("Detach failed")},complete:function(){"function"==typeof o&&o()},dataType:"text"})}function c(e,t,o,n,s){$.ajax({type:"PUT",url:e+"/"+t+"/"+o,contentType:"application/json; charset=utf-8",data:JSON.stringify({data:n}),success:function(e){console.log(e),console.log("Update success")},error:function(e,t){console.log(e),console.log(t),console.log("Update failed")},complete:function(){"function"==typeof s&&s()},dataType:"text"})}function r(e,t,o,n){var s=-1;$.ajax({type:"GET",cache:!1,url:e+"/"+t+"/"+o,success:function(e){s=JSON.parse(e),console.log(e),console.log("Get success")},error:function(e,t){console.log(e),console.log(t),console.log("Get failed")},complete:function(){"function"==typeof n&&n(s)},dataType:"text"})}window&&(window.IoTtalk={register:n,detach:s,update:c,get:r}),t.exports={register:n,detach:s,update:c,get:r}},{}],2:[function(e,t,o){var n={_shutdown:function(){},_getStatus:function(){return{status:2,msg:"Ready"}}},s={blocks:[]};t.exports={add:function(e,t,o,c){n[c]=e,s.blocks.push([t,o,c]);for(var r=s.blocks.length-1,a=4;a<arguments.length;++a)s.blocks[r].push(arguments[a])},ext:n,descriptor:s}},{}],3:[function(e,t,o){!function(t){function o(e,t){d=e+":"+t}function n(e,t){f[e]={profile:{d_name:e,dm_name:t,is_sim:!1,df_list:[]}}}function s(e,t){f[t]&&f[t].profile.df_list.push(e)}function c(e,t){f[e]&&""!==d?u.register(d,e,f[e].profile,t):t()}function r(e,t){u.detach(d,e,t)}function a(e,t,o,n){}function i(e,t,o,n){}var u=e("__iottalk_api.js"),l=e("__scratchX-register.js"),d="",f={};l.add(o," ","set IoTtalk server %s %s","setserver","url","port"),l.add(n," ","create device %s by model %s","create","d_name","dm_name"),l.add(s," ","add feature %s to device %s","add","df_name","d_name"),l.add(c,"w","register device %s","register","d_name"),l.add(r,"w","detach device %s","detach","d_name"),l.add(a," ","update device %s's feature %s[%s] = %s","update","d_name","df_name","key","val"),l.add(i,"R","get device %s's feature %s[%s]","get","d_name","df_name","key"),l.ext._shutdown=function(){console.log("_shutdown")},ScratchExtensions.register("Chatroom extension",l.descriptor,l.ext)}({})},{"__iottalk_api.js":1,"__scratchX-register.js":2}]},{},[3]);
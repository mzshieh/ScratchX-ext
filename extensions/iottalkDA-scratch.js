"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};!function e(t,o,n){function r(s,u){if(!o[s]){if(!t[s]){var l="function"==typeof require&&require;if(!u&&l)return l(s,!0);if(c)return c(s,!0);throw new Error("Cannot find module '"+s+"'")}var i=o[s]={exports:{}};t[s][0].call(i.exports,function(e){var o=t[s][1][e];return r(o?o:e)},i,i.exports,e,t,o,n)}return o[s].exports}for(var c="function"==typeof require&&require,s=0;s<n.length;s++)r(n[s]);return r}({1:[function(e,t,o){function n(e,t,o,n){$.ajax({type:"POST",url:e+"/"+t,contentType:"application/json; charset=utf-8",data:JSON.stringify({profile:o}),success:function(e){console.log(e),console.log("register success")},error:function(e,t){console.log(e),console.log(t),console.log("register failed")},complete:function(){"function"==typeof n&&n()},dataType:"text"})}function r(e,t,o){$.ajax({type:"DELETE",url:e+"/"+t,success:function(e){console.log(e),console.log("Detach success")},error:function(e,t){console.log(e),console.log(t),console.log("Detach failed")},complete:function(){"function"==typeof o&&o()},dataType:"text"})}function c(e,t,o,n,r){$.ajax({type:"PUT",url:e+"/"+t+"/"+o,contentType:"application/json; charset=utf-8",data:JSON.stringify({data:n}),success:function(e){console.log(e),console.log("Update success")},error:function(e,t){console.log(e),console.log(t),console.log("Update failed")},complete:function(){"function"==typeof r&&r()},dataType:"text"})}function s(e,t,o,n){var r=-1;$.ajax({type:"GET",cache:!1,url:e+"/"+t+"/"+o,success:function(e){r=e,console.log(e),console.log("Get success")},error:function(e,t){console.log(e),console.log(t),console.log("Get failed")},complete:function(){"function"==typeof n&&n(r)},dataType:"text"})}window&&(window.IoTtalk={register:n,detach:r,update:c,get:s}),t.exports={register:n,detach:r,update:c,get:s}},{}],2:[function(e,t,o){var n={_shutdown:function(){},_getStatus:function(){return{status:2,msg:"Ready"}}},r={blocks:[]};t.exports={add:function(e,t,o,c){n[c]=e,r.blocks.push([t,o,c]);for(var s=r.blocks.length-1,u=4;u<arguments.length;++u)r.blocks[s].push(arguments[u])},ext:n,descriptor:r}},{}],3:[function(e,t,o){!function(t){function o(e){l.url=e}function n(e,t){if(null===l.url||null!==l.mac)return void t();l.mac=e;var o=function(){l.registered=!0,t()};s.register(l.url,e,f,o)}function r(e,t,o){if(i[e]=t,null===l.url)return void o();var n=JSON.stringify(i);s.update(l.url,l.mac,a,[n],o)}function c(e,t,o,n){if(null===l.url)return void n();var r=function(e){if("object"===("undefined"==typeof e?"undefined":_typeof(e))&&e.samples&&e.samples[0]&&e.samples[0][1]){var t=JSON.parse(e.samples[0][1]);n(t[o]||-1)}else n(-1)};s.get(l.url,e,t,r)}var s=e("__iottalk_api.js"),u=e("__scratchX-register.js"),l={url:null,mac:null,registered:!1},i={},a="Json_string",f={d_name:"ScratchX",dm_name:"ScratchX",is_sim:!1,df_list:[a]};u.add(o," ","set remote server as %s","setServer","url"),u.add(n,"w","register mac address as %s","register","mac"),u.add(r,"w","update %s %s","update","key","val"),u.add(c,"R","get %s %s %s","get","mac","feature","key"),u._shutdown=function(){null!==l.mac&&s.detach(l.url,l.mac)},ScratchExtensions.register("Chatroom extension",u.descriptor,u.ext)}({})},{"__iottalk_api.js":1,"__scratchX-register.js":2}]},{},[3]);